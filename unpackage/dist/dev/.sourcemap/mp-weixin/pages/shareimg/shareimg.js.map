{"version":3,"sources":["webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue?6aa5","webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue?859e","webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue?4b9a","webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue?c85c","webpack:///D:/testhx/comproduct/main.js","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue?6ada","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue?d776","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue?4a0f","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue?4fdc","webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue?205c","webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue?13d5","webpack:///D:/testhx/comproduct/components/picture-tailor/pictureTailor.vue?7121","webpack:///D:/testhx/comproduct/pages/shareimg/shareimg.vue?6897"],"names":["Page","App","name","props","pictureSrc","type","String","default","data","offsetX","offsetY","img_width","img_height","img_scaling","newOffsetX","newOffsetY","scale","isShow","methods","onShow","$nextTick","getImgInfo","onHide","_this","uni","getImageInfo","src","success","res","width","height","sysInfo","getSystemInfoSync","windowWidth","windowHeight","movableChange","e","detail","x","y","movableScale","createImg","ctx","createCanvasContext","drawImage","draw","canvasToTempFilePath","destWidth","destHeight","canvasId","console","log","tempFilePath","$emit","components","pictureTal","imgurl","onLoad","that","downloadFile","url","saveImageToPhotosAlbum","filePath","showToast","title","navigateBack","savedFilePath","fail","err","icon","hideLoading"],"mappings":"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","file":"pages/shareimg/shareimg.js","sourcesContent":["import { render, staticRenderFns } from \"./pictureTailor.vue?vue&type=template&id=d8ed822a&\"\nimport script from \"./pictureTailor.vue?vue&type=script&lang=js&\"\nexport * from \"./pictureTailor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pictureTailor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.1.4.1.20181228.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d8ed822a', component.options)\n    } else {\n      api.reload('d8ed822a', component.options)\n    }\n    module.hot.accept(\"./pictureTailor.vue?vue&type=template&id=d8ed822a&\", function () {\n      api.rerender('d8ed822a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"testhx/comproduct/components/picture-tailor/pictureTailor.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./pictureTailor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./pictureTailor.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./pictureTailor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./pictureTailor.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./pictureTailor.vue?vue&type=template&id=d8ed822a&\"","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/shareimg/shareimg.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./shareimg.vue?vue&type=template&id=eeeac85c&\"\nimport script from \"./shareimg.vue?vue&type=script&lang=js&\"\nexport * from \"./shareimg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shareimg.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.1.4.1.20181228.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('eeeac85c', component.options)\n    } else {\n      api.reload('eeeac85c', component.options)\n    }\n    module.hot.accept(\"./shareimg.vue?vue&type=template&id=eeeac85c&\", function () {\n      api.rerender('eeeac85c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"testhx/comproduct/pages/shareimg/shareimg.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./shareimg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./shareimg.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./shareimg.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./shareimg.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./shareimg.vue?vue&type=template&id=eeeac85c&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default {\n\tname: \"picture-tailor\",\n\tprops: {\n\t\t// 图片路径\n\t\tpictureSrc: { \n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\toffsetX: 0, // 图像初始化的X轴偏移量\n\t\t\toffsetY: 0, // 图像初始化的Y轴偏移量\n\t\t\timg_width: 0, // 图片真实宽度\n\t\t\timg_height: 0, // 图片真实高度\n\t\t\timg_scaling: 1, //图片初始化缩放比例\n\t\t\tnewOffsetX: 0, // 拖动缩放完成后的X轴偏移量\n\t\t\tnewOffsetY: 0, // 拖动缩放完成后的Y轴偏移量\n\t\t\tscale: 1, // 拖动缩放完成后的图片缩放比例\n\t\t\tisShow: false\n\t\t};\n\t},\n\tmethods: {\n\t\t// 显示组件并初始化\n\t\tonShow() {\n\t\t\tthis.isShow = true;\n\t\t\tthis.$nextTick(function(){\n\t\t\t\tthis.getImgInfo();\n\t\t\t});\n\t\t},\n\t\tonHide() {\n\t\t\tthis.isShow = false;\n\t\t},\n\t\t// 初始化图片\n\t\tgetImgInfo() {\n\t\t\tvar _this = this;\n\t\t\tuni.getImageInfo({\n\t\t\t\tsrc: _this.pictureSrc,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\t// 图片宽高\n\t\t\t\t\t_this.img_width = res.width;\n\t\t\t\t\t_this.img_height = res.height;\n\t\t\t\t\t// 屏幕可用宽高\n\t\t\t\t\tlet sysInfo = uni.getSystemInfoSync();\n\t\t\t\t\tlet windowWidth = sysInfo.windowWidth;\n\t\t\t\t\tlet windowHeight = sysInfo.windowHeight;\n\t\t\t\t\t// 当图片大于屏幕宽度\n\t\t\t\t\tif (_this.img_width > windowWidth) {\n\t\t\t\t\t\t_this.img_scaling = _this.img_width / windowWidth;\n\t\t\t\t\t}\n\t\t\t\t\t// 计算图片居中显示时的偏移量，120为样式中的240px的一半\n\t\t\t\t\t_this.offsetX = -(_this.img_width / _this.img_scaling / 2 - 120);\n\t\t\t\t\t_this.offsetY = -(_this.img_height / _this.img_scaling / 2 - 120);\n\t\t\t\t\t// 获取新的偏移量\n\t\t\t\t\t_this.newOffsetX = _this.offsetX;\n\t\t\t\t\t_this.newOffsetY = _this.offsetY;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 计算拖动偏移量\n\t\tmovableChange(e) {\n\t\t\tthis.newOffsetX = e.detail.x\n\t\t\tthis.newOffsetY = e.detail.y\n\t\t},\n\t\t// 计算缩放比例和偏移量\n\t\tmovableScale(e) {\n\t\t\tthis.newOffsetX = e.detail.x\n\t\t\tthis.newOffsetY = e.detail.y\n\t\t\tthis.scale = e.detail.scale;\n\t\t},\n\t\t// 截取图片\n\t\tcreateImg() {\n\t\t\tvar _this = this;\n\t\t\tlet ctx = uni.createCanvasContext(\"picture-canvas\");\n\t\t\tctx.drawImage(_this.pictureSrc, _this.newOffsetX, _this.newOffsetY, _this.img_width /\n\t\t\t\t_this.img_scaling * _this.scale,\n\t\t\t\t_this.img_height / _this.img_scaling * _this.scale);\n\t\t\tctx.draw(false, function() {\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\t// 截取图片尺寸\n\t\t\t\t\tdestWidth: 120,\n\t\t\t\t\tdestHeight: 120,\n\t\t\t\t\tcanvasId: \"picture-canvas\",\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(res.tempFilePath)\n\t\t\t\t\t\t_this.$emit(\"createImg\", res.tempFilePath)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n}\n","\n\n\n\n\n\n\n\n\timport pictureTal from '../../components/picture-tailor/pictureTailor.vue'\n\texport default {\n\t\tcomponents:{\n\t\t\tpictureTal\n\t\t},\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\timgurl:'../../static/timg.jpg'\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t\n\t\t},\n\t\tonLoad(){\n\t\t\tvar that=this;\n// \t\t\tuni.showLoading({\n// \t\t\t\ttitle:'图片保存中...'\n// \t\t\t})\n\t\t\tuni.downloadFile({\n\t\t\t\turl:'http://192.168.1.52:8080/#/pages/shareimg/shareimg',\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log(res.tempFilePath)\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\tfilePath:res.tempFilePath,\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:'保存成功',\n\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\t// uni.hideLoading();\n\t\t\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log(res.savedFilePath);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\ttitle:'保存失败',\n\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t// uni.navigateBack();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    {\n      staticClass: \"picture-tailor\",\n      class: { \"picture-tailor-show\": _vm.isShow }\n    },\n    [\n      _c(\n        \"movable-area\",\n        { staticClass: \"picture-area\", attrs: { mpcomid: \"2d1097fc-1\" } },\n        [\n          _c(\n            \"movable-view\",\n            {\n              staticClass: \"picture-view\",\n              style: {\n                width: _vm.img_width / _vm.img_scaling + \"px\",\n                height: _vm.img_height / _vm.img_scaling + \"px\"\n              },\n              attrs: {\n                direction: \"all\",\n                x: _vm.offsetX,\n                y: _vm.offsetY,\n                scale: \"true\",\n                eventid: \"2d1097fc-0\",\n                mpcomid: \"2d1097fc-0\"\n              },\n              on: { change: _vm.movableChange, scale: _vm.movableScale }\n            },\n            [\n              _c(\"image\", {\n                style: {\n                  width: _vm.img_width / _vm.img_scaling + \"px\",\n                  height: _vm.img_height / _vm.img_scaling + \"px\"\n                },\n                attrs: { src: _vm.pictureSrc }\n              })\n            ]\n          )\n        ],\n        1\n      ),\n      _c(\"view\", { staticClass: \"select-box\" }),\n      _c(\n        \"button\",\n        {\n          staticClass: \"button-view\",\n          attrs: { eventid: \"2d1097fc-1\" },\n          on: { click: _vm.createImg }\n        },\n        [_vm._v(\"完成\")]\n      ),\n      _c(\"canvas\", {\n        staticClass: \"canvas-view\",\n        attrs: { \"canvas-id\": \"picture-canvas\" }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"shareimg\" },\n    [\n      _c(\"image\", { attrs: { src: _vm.imgurl, mode: \"widthFix\" } }),\n      _c(\"picture-tal\", {\n        attrs: { pictureSrc: _vm.imgurl, mpcomid: \"0c9df263-0\" }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}